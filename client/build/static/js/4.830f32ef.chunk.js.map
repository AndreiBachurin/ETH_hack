{"version":3,"sources":["utils/textloader.js","components/common/Markdown.js","gamedata sync /^/.//.*$","gamedata/en/descriptions/levels/Complete.md","gamedata/en/descriptions/levels/FindMe.md","gamedata/en/descriptions/levels/LendingPool.md","gamedata/en/descriptions/levels/Lift.md","gamedata/en/descriptions/levels/PredictTheFuture.md","gamedata/en/descriptions/levels sync /^/.//.*$","gamedata/ru/descriptions/levels/FindMe.md","gamedata/ru/descriptions/levels/LendingPool.md","gamedata/ru/descriptions/levels/Lift.md","gamedata/ru/descriptions/levels/PredictTheFuture.md","gamedata/ru/descriptions/levels/Сomplete.md","../../node_modules/contracts/contracts/levels sync /^/.//.*$","../../contracts/contracts/levels/FindMe.sol","../../contracts/contracts/levels/FindMeFactory.sol","../../contracts/contracts/levels/LendingPool.sol","../../contracts/contracts/levels/LendingPoolFactory.sol","../../contracts/contracts/levels/Lift.sol","../../contracts/contracts/levels/LiftFactory.sol","../../contracts/contracts/levels/PredictTheFuture.sol","../../contracts/contracts/levels/PredictTheFutureFactory.sol","../../contracts/contracts/levels/base/Level-05.sol","../../contracts/contracts/levels/base/Level-06.sol","../../contracts/contracts/levels/base/Level-08.sol","../../contracts/contracts/levels/base/Level.sol","components/levels/Code.js","components/levels/Author.js","containers/Level.js"],"names":["load","data","Promise","resolve","reject","fetch","then","response","text","error","console","log","Markdown","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","state","target","undefined","source","_createClass","key","value","_componentDidMount","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","this","_isMounted","loadContents","props","stop","apply","arguments","_componentDidUpdate","_callee2","_context2","_loadContents","_callee3","targetText","_context3","abrupt","default","test","loadText","t0","sent","setState","t1","_x","children","_jsx","ReactMarkdown","React","Component","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","module","exports","Code","prevProps","__html","hljs","highlight","language","_x2","className","dangerouslySetInnerHTML","getHighlightedCode","Author","name","emails","websites","author","authorData","require","authors","donate","fetchAuthorData","address","concat","localStorage","getItem","strings","loadTranslations","_this$state","nodata","length","elements","totalLength","Math","max","i","push","_jsxs","href","rel","style","marginLeft","marginTop","marginBottm","overflowWrap","levelAuthor","Level","deployFactoryContract","levelFactory","deployAndRegisterLevel","level","loadGameData","activateLevel","createInstance","evt","requestedInstance","loadLevelInstance","setTimeout","toggleDropdown","dropwDownOpened","closeDropdown","handleClickOutside","event","containerRef","current","contains","handleImageLoad","styles","getComputedStyle","document","documentElement","getPropertyValue","getElementsByClassName","filter","svgFilter","submittedIntance","createRef","params","addEventListener","deactivateLevel","removeEventListener","_this$props$level","getLevelKey","codeElement","black","background","_level$poweredBy","_level$poweredBy2","_this2","_this$props","levelCompleted","_getlevelsdata","getlevelsdata","_getlevelsdata2","_slicedToArray","levelData","selectedLevel","showCode","revealCode","showCompletedDescription","constants","description","completedDescription","poweredBy","src","sourcesFile","instanceContract","nextLevelId","list","otherLevel","deployedAddress","listItem","deployId","findNextLevelId","levels","ref","onClick","stopPropagation","difficulty","display","Link","to","completed","onLoad","autoPlay","playsInline","preload","loop","muted","alt","width","height","MarkdownComponent","marginBottom","CodeComponent","levelContract","type","navigate","nextLevel","levelEmitted","disabled","submitLevelInstance","submitInstance","web3","getNewInstance","deployLevel","Footer","withRouter","connect","gamedata","activeLevel","network","networkId","player","completedLevels","contracts","dispatch","bindActionCreators","actions"],"mappings":"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","file":"static/js/4.830f32ef.chunk.js","sourcesContent":["export default function load(data) {\n  return new Promise((resolve, reject) => {\n    // console.log(`loading file:`, data, __dirname)\n    try {\n      fetch(data)\n        .then(response => response.text())\n        .then(text => {\n          // console.log(`file loaded`)\n          resolve(text)\n        })\n    }\n    catch(error) {\n      console.log(`ERROR LOADING FILE:`, error)\n      reject(error)\n    }\n  })\n}","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport loadText from '../../utils/textloader'\n\nclass Markdown extends React.Component {\n\n  constructor() {\n    super()\n    this.state = {\n      target: undefined,\n      source: undefined\n    }\n  }\n\n  async componentDidMount() {\n    this._isMounted = true\n    await this.loadContents(this.props.target)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n    \n  }\n\n  async componentDidUpdate() {\n    await this.loadContents(this.props.target);\n  }\n\n  async loadContents(target) {\n    if(!this._isMounted) return\n    let targetText = typeof target == 'string' ? target : target.default;\n    if(this.state.target === targetText) return\n    try {\n      const text = /md?$/.test(targetText) ?  await loadText(targetText) : targetText;\n      this.setState({ target: targetText, source: text })\n    } catch(error) {\n      this.setState({source: undefined})\n    }\n  }\n\n  render() {\n    const children = this.state.source;\n    return <div>{ children && <ReactMarkdown children={children}/> }</div>\n  }\n}\n\nexport default Markdown\n","var map = {\n\t\"./authors\": 1147,\n\t\"./authors.json\": 1147,\n\t\"./deploy.local\": 336,\n\t\"./deploy.local.json\": 336,\n\t\"./deploy.mumbai-polygon\": 337,\n\t\"./deploy.mumbai-polygon.json\": 337,\n\t\"./en/descriptions/levels/Complete.md\": 1153,\n\t\"./en/descriptions/levels/FindMe.md\": 1154,\n\t\"./en/descriptions/levels/LendingPool.md\": 1155,\n\t\"./en/descriptions/levels/Lift.md\": 1156,\n\t\"./en/descriptions/levels/PredictTheFuture.md\": 1157,\n\t\"./en/strings\": 335,\n\t\"./en/strings.json\": 335,\n\t\"./gamedata\": 168,\n\t\"./gamedata.json\": 168,\n\t\"./ru/descriptions/levels/FindMe.md\": 1168,\n\t\"./ru/descriptions/levels/LendingPool.md\": 1169,\n\t\"./ru/descriptions/levels/Lift.md\": 1170,\n\t\"./ru/descriptions/levels/PredictTheFuture.md\": 1171,\n\t\"./ru/descriptions/levels/Сomplete.md\": 1172,\n\t\"./ru/strings\": 543,\n\t\"./ru/strings.json\": 543\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1152;","export default __webpack_public_path__ + \"static/media/Complete.4e983891.md\";","export default __webpack_public_path__ + \"static/media/FindMe.1507ba60.md\";","export default __webpack_public_path__ + \"static/media/LendingPool.64cf4205.md\";","export default __webpack_public_path__ + \"static/media/Lift.b412c1c7.md\";","export default __webpack_public_path__ + \"static/media/PredictTheFuture.31ffca82.md\";","var map = {\n\t\"./Complete.md\": 1153,\n\t\"./FindMe.md\": 1154,\n\t\"./LendingPool.md\": 1155,\n\t\"./Lift.md\": 1156,\n\t\"./PredictTheFuture.md\": 1157\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1158;","export default __webpack_public_path__ + \"static/media/FindMe.b8b62ae4.md\";","export default __webpack_public_path__ + \"static/media/LendingPool.a21af841.md\";","export default __webpack_public_path__ + \"static/media/Lift.5b68c664.md\";","export default __webpack_public_path__ + \"static/media/PredictTheFuture.aa307301.md\";","export default __webpack_public_path__ + \"static/media/Сomplete.dda1ff46.md\";","var map = {\n\t\"./FindMe.sol\": 1174,\n\t\"./FindMeFactory.sol\": 1175,\n\t\"./LendingPool.sol\": 1176,\n\t\"./LendingPoolFactory.sol\": 1177,\n\t\"./Lift.sol\": 1178,\n\t\"./LiftFactory.sol\": 1179,\n\t\"./PredictTheFuture.sol\": 1180,\n\t\"./PredictTheFutureFactory.sol\": 1181,\n\t\"./base/Level-05.sol\": 1182,\n\t\"./base/Level-06.sol\": 1183,\n\t\"./base/Level-08.sol\": 1184,\n\t\"./base/Level.sol\": 1185\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1173;","export default __webpack_public_path__ + \"static/media/FindMe.a03a4f8c.sol\";","export default __webpack_public_path__ + \"static/media/FindMeFactory.9417304f.sol\";","export default __webpack_public_path__ + \"static/media/LendingPool.0b3ad3f4.sol\";","export default __webpack_public_path__ + \"static/media/LendingPoolFactory.30e4907a.sol\";","export default __webpack_public_path__ + \"static/media/Lift.436afe2f.sol\";","export default __webpack_public_path__ + \"static/media/LiftFactory.33db26ff.sol\";","export default __webpack_public_path__ + \"static/media/PredictTheFuture.4aaa5556.sol\";","export default __webpack_public_path__ + \"static/media/PredictTheFutureFactory.0a25e96c.sol\";","export default __webpack_public_path__ + \"static/media/Level-05.2bca84f2.sol\";","export default __webpack_public_path__ + \"static/media/Level-06.36a29085.sol\";","export default __webpack_public_path__ + \"static/media/Level-08.79e298ac.sol\";","export default __webpack_public_path__ + \"static/media/Level.37af6412.sol\";","import React from 'react'\nimport loadText from '../../utils/textloader'\nimport 'highlight.js/styles/vs2015-css.mjs'\nimport hljs from 'highlight.js'\n\nclass Code extends React.Component {\n\n  constructor() {\n    super()\n    this.state = {\n      target: undefined,\n      source: undefined\n    }\n  }\n\n  async componentDidMount() {\n    this._isMounted = true\n    await this.loadContents(this.props.target)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  async componentDidUpdate(prevProps) {\n    await this.loadContents(this.props.target);\n  }\n\n  getHighlightedCode() {\n    if (this.state.source) {\n      return {\n        __html: hljs.highlight(this.state.source, { language: 'solidity' }).value,\n      };\n    }\n  }\n\n  async loadContents(target) {\n    if (!this._isMounted) return;\n    let targetText = typeof target == 'string' ? target : target.default;\n    if(this.state.target === targetText) return\n    try {\n      const text = await loadText(targetText);\n      this.setState({\n        target: targetText,\n        source: text,\n      });\n    } catch (e) {\n      this.setState({\n        source: undefined,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <pre><code className='hljs' dangerouslySetInnerHTML={this.getHighlightedCode()}></code></pre>\n    )\n  }\n}\n\nexport default Code\n","import React from 'react'\nimport { loadTranslations } from '../../utils/translations'\n\nclass Author extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: [],\n      emails: [],\n      websites: []\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.author !== prevProps.author) {\n      const data = require(`../../gamedata/authors.json`).authors;\n      const authorData = data[this.props.author];\n      if(!authorData) return null;\n      this.setState({\n        name: authorData.name,\n        emails: authorData.emails,\n        websites: authorData.websites,\n        donate: authorData.donate\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.fetchAuthorData(this.props.author);\n  }\n\n  fetchAuthorData(author) {\n    const data = require(`../../gamedata/authors.json`).authors;\n    const authorData = data[author];\n    if(!authorData) return;\n    this.setState({\n      name: authorData.name,\n      emails: authorData.emails,\n      websites: authorData.websites,\n      donate: authorData.donate\n    });\n  }\n\n  donate(address) {\n    console.log(`address: ${address}`);\n  }\n\n  render() {\n    let language = localStorage.getItem('lang')\n    let strings = loadTranslations(language)\n\n    const { name, emails, websites, donate } = this.state;\n    const nodata = !name.length && !emails.length && !websites.length && !donate;\n\n    var elements = [];\n\n    var totalLength = Math.max(emails.length, websites.length);\n\n    for(var i = 0; i<totalLength; i++) {\n      elements.push(\n        <span key={i}>\n          <br/>\n          <strong>\n            {name[i]}\n            <a href={`mailto:${emails[i]}`} target='_blank' rel='noopener noreferrer' style={{marginLeft: '1%'}}>\n              <i className=\"fa fa-envelope\" aria-hidden=\"true\"></i>\n            </a>\n            <a href={websites[i]} target='_blank' rel='noopener noreferrer' style={{marginLeft: '1%'}}>\n              <i className=\"fa fa-globe\" aria-hidden=\"true\"></i>\n            </a>\n          </strong>\n          <br/>\n          <strong>\n\n          </strong>\n        </span>\n      )\n    }\n\n    return (\n      <div>\n        <div style={{marginTop: '20px', marginBottm: '20px', overflowWrap: 'anywhere'}}>\n\n          <h4>{strings.levelAuthor}</h4>\n\n          {!nodata && elements\n          }\n\n          {!nodata && donate && \n              <span><br/>{strings.donate} <strong>{donate}</strong></span>\n          }\n\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Author\n","import React, { createRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport CodeComponent from \"../components/levels/Code\";\r\nimport Footer from \"../components/common/Footer\";\r\nimport Author from \"../components/levels/Author\";\r\nimport MarkdownComponent from \"../components/common/Markdown\";\r\nimport * as actions from \"../actions\";\r\nimport * as constants from \"../constants\";\r\nimport { loadTranslations } from \"../utils/translations\";\r\nimport { Link } from \"react-router-dom\";\r\nimport getlevelsdata from \"../utils/getlevelsdata\";\r\nimport { withRouter } from \"../hoc/withRouter\";\r\nimport { getLevelKey } from \"../utils/contractutil\";\r\nimport { deployAndRegisterLevel } from \"../utils/deploycontract\";\r\nimport { svgFilter } from \"../utils/svg\";\r\n\r\nclass Level extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      requestedInstance: false,\r\n      submittedIntance: false,\r\n      dropwDownOpened: false,\r\n    };\r\n    this.containerRef = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.activateLevel(this.props.params.address);\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.props.activateLevel) {\r\n      this.props.deactivateLevel(this.props.activateLevel);\r\n    }\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const key = getLevelKey(this.props.params.address);\r\n    if (this.props.level?.[key] !== this.props.params.address) {\r\n      this.props.activateLevel(this.props.params.address);\r\n    }\r\n    var codeElement = document.getElementsByClassName(\"hljs\")[0];\r\n    var black = getComputedStyle(document.documentElement).getPropertyValue(\r\n      \"--black\"\r\n    );\r\n    if (codeElement && codeElement.style.background !== black)\r\n      codeElement.style.background = black;\r\n  }\r\n\r\n  // use arrow function to prevent this binding\r\n  deployFactoryContract = async () => {\r\n    const levelFactory = await deployAndRegisterLevel(this.props.level);\r\n    if (!levelFactory) return;\r\n    this.props.loadGameData();\r\n    this.props.activateLevel(levelFactory.address);\r\n  };\r\n\r\n  createInstance = (evt) => {\r\n    if (!this.state.requestedInstance) {\r\n      this.props.loadLevelInstance(this.props.level, false, true);\r\n      this.setState({ requestedInstance: true });\r\n      setTimeout(() => this.setState({ requestedInstance: false }), 2000);\r\n    }\r\n  };\r\n\r\n  toggleDropdown = () => {\r\n    this.setState({\r\n      dropwDownOpened: !this.state.dropwDownOpened,\r\n    });\r\n  };\r\n\r\n  closeDropdown = () => {\r\n    if (this.state.dropwDownOpened) {\r\n      this.setState({\r\n        dropwDownOpened: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleClickOutside = (event) => {\r\n    if (this.containerRef && !this.containerRef.current.contains(event.target)) {\r\n      this.closeDropdown();\r\n    }\r\n  }\r\n\r\n  handleImageLoad = () => { \r\n    const styles = getComputedStyle(document.documentElement);\r\n\r\n    const bgColor = styles.getPropertyValue('--primary-color');\r\n    const black = styles.getPropertyValue('--black');\r\n\r\n    const isCurrentlyDarkMode = bgColor === black;\r\n\r\n    if (isCurrentlyDarkMode) { \r\n      let levelTiles = document.getElementsByClassName(\"level-tile\");\r\n      const levelTile = levelTiles[0]\r\n      levelTile.style.filter = svgFilter();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { level, levelCompleted } = this.props;\r\n    const { submittedIntance } = this.state;\r\n\r\n    var [levelData, selectedLevel] = getlevelsdata(this.props, \"levelPage\");\r\n\r\n    if (!level) return null;\r\n    const showCode = levelCompleted || level.revealCode;\r\n    const showCompletedDescription =\r\n      constants.SHOW_ALL_COMPLETE_DESCRIPTIONS || levelCompleted;\r\n\r\n    let description = null;\r\n    let language = localStorage.getItem(\"lang\");\r\n    let strings = loadTranslations(language);\r\n    let isDescriptionMissingTranslation = false;\r\n\r\n    try {\r\n      description = require(`../gamedata/${language}/descriptions/levels/${level.description}`);\r\n    } catch (e) {\r\n      //FIX-ME: If language selected is english then \"language\" variable is null and not \"en\"\r\n      if (language) isDescriptionMissingTranslation = true; // Only set it if language is not null (i.e. some language different from english)\r\n      description = require(`../gamedata/en/descriptions/levels/${level.description}`);\r\n    }\r\n    let completedDescription = null;\r\n\r\n    let isCompleteDescriptionMissingTranslation = false;\r\n    if (showCompletedDescription && level.completedDescription) {\r\n      try {\r\n        completedDescription = require(`../gamedata/${language}/descriptions/levels/${level.completedDescription}`);\r\n      } catch (e) {\r\n        isCompleteDescriptionMissingTranslation = true;\r\n        completedDescription = require(`../gamedata/en/descriptions/levels/${level.completedDescription}`);\r\n      }\r\n    }\r\n\r\n    let poweredBy =\r\n      level.poweredBy?.src && level.poweredBy?.href ? level.poweredBy : null;\r\n\r\n    let sourcesFile = null;\r\n    try {\r\n      sourcesFile = require(`contracts/contracts/levels/${level.instanceContract}`);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    const nextLevelId = findNextLevelId(this.props.level, this.props.levels);\r\n\r\n    return (\r\n      <main>\r\n        <div className=\"lines\"></div>\r\n        <main>\r\n          <div ref={this.containerRef} onClick={e => e.stopPropagation()} className=\"level-selector-nav\">\r\n            <div onClick={this.toggleDropdown} className=\"dropdown-menu-bar\">\r\n              <p key={level.difficulty}>{selectedLevel.difficulty}</p>\r\n              <p key={level.name}>{level.name}</p>\r\n\r\n              <div className=\"dropdown-menu-bar-button\">\r\n                <button className=\"dropdown-button\">\r\n                  <i className={`fa fa-caret-${this.state.dropwDownOpened? \"up\" : \"down\"}`}></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div style={{ display: this.state.dropwDownOpened ? 'block' : 'none' }} className=\"level-selector-dropdown-content\">\r\n              {levelData.map((level) => {\r\n                return (\r\n                  <Link\r\n                    key={level.name}\r\n                    to={`${constants.PATH_LEVEL_ROOT}${level.deployedAddress || level.id\r\n                      }`}\r\n                    onClick={this.closeDropdown}\r\n                  >\r\n                    <div className=\"level-selector-dropdown-content-item\">\r\n                      <p key={level.name}>\r\n                        {level.completed === true && (\r\n                          <span className=\"label label-default\">✔</span>\r\n                        )}{\" \"}\r\n                        {level.name}\r\n                      </p>\r\n                      <p key={level.difficulty}>{level.difficulty}</p>\r\n                    </div>\r\n                  </Link>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <section onLoad={this.handleImageLoad}>\r\n{/*<img\r\n              alt=\"\"\r\n              className=\"level-tile level-img-view\"\r\n              src={selectedLevel.src}\r\n            />*/}\r\n            <video\r\n        className=\"level_video_big\"\r\n        autoPlay={true}\r\n        playsInline={true}\r\n        preload=\"metadata\"\r\n        loop={true}\r\n        muted={true}\r\n        src={selectedLevel.src}>\r\n      </video>\r\n          </section>\r\n\r\n          {/* TITLE + INFO */}\r\n          {poweredBy && (\r\n            <div className=\"powered-by\">\r\n              <p>\r\n                {strings.poweredBy}\r\n                <a href={poweredBy.href}>\r\n                  <img\r\n                    className=\"custom-img\"\r\n                    alt=\"\"\r\n                    style={{ width: \"80px\", height: \"80px\" }}\r\n                    src={poweredBy.src}\r\n                  />\r\n                </a>\r\n              </p>\r\n              <h2> </h2>\r\n            </div>\r\n          )}\r\n\r\n          <section className=\"descriptors\">\r\n            <div className=\"boxes bg_blur\">\r\n              {/* DESCRIPTION */}\r\n              {description && !showCompletedDescription && (\r\n                <MarkdownComponent target={description} />\r\n              )}\r\n\r\n              {/* COMPLETED DESCRIPTION */}\r\n              {showCompletedDescription && (\r\n                <div style={{ marginTop: \"40px\", marginBottom: \"40px\" }}>\r\n                  {completedDescription && (\r\n                    <div className=\"well\">\r\n                      <MarkdownComponent target={completedDescription} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          <section className=\"descriptors source-code\">\r\n            {/* CODE */}\r\n            {showCode && sourcesFile && (\r\n              <div>\r\n                <CodeComponent target={sourcesFile} />\r\n              </div>\r\n            )}\r\n          </section>\r\n          {/* BUTTONS */}\r\n          <section className=\"descriptors button-sequence\">\r\n            {level.levelContract && (\r\n              <div>\r\n                {/* NEXT LEVEL */}\r\n                {levelCompleted && nextLevelId && (\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-actions\"\r\n                    onClick={() =>\r\n                      this.props.navigate(\r\n                        `${constants.PATH_LEVEL_ROOT}${nextLevelId}`\r\n                      )\r\n                    }\r\n                  >\r\n                    {strings.nextLevel}\r\n                  </button>\r\n                )}\r\n\r\n                {/* SUBMIT */}\r\n                {this.props.levelEmitted && !levelCompleted && (\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={this.props.levelCompleted}\r\n                    className=\"button-actions\"\r\n                    onClick={(evt) => {\r\n                      if (!submittedIntance && nextLevelId) {\r\n                        this.props.submitLevelInstance(level);\r\n                        this.setState({ submittedIntance: true });\r\n                        setTimeout(\r\n                          () => this.setState({ submittedIntance: false }),\r\n                          2000\r\n                        );\r\n                      }\r\n                    }}\r\n                  >\r\n                    {strings.submitInstance}\r\n                  </button>\r\n                )}\r\n\r\n                {/* DEPLOY OR CREATE */}\r\n                {this.props.web3 && <button\r\n                  type=\"button\"\r\n                  className=\"button-actions\"\r\n                  onClick={\r\n                    level.deployedAddress\r\n                      ? this.createInstance\r\n                      : this.deployFactoryContract\r\n                  }\r\n                >\r\n                  {level.deployedAddress\r\n                    ? strings.getNewInstance\r\n                    : strings.deployLevel}\r\n                </button>}\r\n\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          <section className=\"descriptors\">\r\n            <div className=\"boxes author-section-border\">\r\n              <div className=\"author-section\">\r\n                {/* AUTHOR */}\r\n                {level.author && <Author author={level.author} />}\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </main>\r\n\r\n        {/* Footer */}\r\n        <Footer></Footer>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nfunction findNextLevelId(level, list) {\r\n  // check if we are a predeployed chain to know which key to use\r\n  for (let i = 0; i < list.length; i++) {\r\n    const otherLevel = list[i];\r\n    if (level.deployedAddress === otherLevel.deployedAddress) {\r\n      if (i < list.length - 1) {\r\n        const listItem = list[i + 1];\r\n        return listItem.deployedAddress || listItem.deployId;\r\n      } else return list[0].deployedAddress || list[0].deployId;\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const level = state.gamedata.activeLevel;\r\n\r\n  return {\r\n    web3: state.network.web3,\r\n    networkId: state.network.networkId,\r\n    level: level,\r\n    activeLevel: level,\r\n    player: state.player,\r\n    levels: state.gamedata.levels,\r\n    levelCompleted:\r\n      level && state.player.completedLevels[level.deployedAddress] > 0,\r\n    levelEmitted:\r\n      level && state.contracts.levels[level.deployedAddress] !== undefined,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      activateLevel: actions.activateLevel,\r\n      deactivateLevel: actions.deactivateLevel,\r\n      loadLevelInstance: actions.loadLevelInstance,\r\n      submitLevelInstance: actions.submitLevelInstance,\r\n      loadGameData: actions.loadGamedata,\r\n    },\r\n    dispatch\r\n  );\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Level));\r\n"],"sourceRoot":""}